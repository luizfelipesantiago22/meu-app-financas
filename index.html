<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Controle Mensal</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
    font-family: Arial;
    background: #0f172a;
    color: white;
    padding: 20px;
}
.card {
    background: #1e293b;
    padding: 15px;
    margin-bottom: 15px;
    border-radius: 12px;
}
button {
    width: 100%;
    padding: 12px;
    background: #22c55e;
    border: none;
    color: black;
    font-weight: bold;
    border-radius: 10px;
}
input, select {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    border-radius: 8px;
    border: none;
}
.valor { font-size:18px; margin-top:5px; }
.resultado { font-size:20px; font-weight:bold; }
</style>
</head>
<body>

<h2>Resumo do Mês</h2>

<div class="card">
<div>Receitas</div>
<div class="valor" id="receitas">R$ 0,00</div>
</div>

<div class="card">
<div>Despesas Fixas</div>
<div class="valor" id="fixas">R$ 0,00</div>
</div>

<div class="card">
<div>Despesas Variáveis</div>
<div class="valor" id="variaveis">R$ 0,00</div>
</div>

<div class="card">
<div>Resultado</div>
<div class="resultado" id="resultado">R$ 0,00</div>
</div>

<div class="card">
<h3>Novo Lançamento</h3>
<input type="number" id="valor" placeholder="Valor">
<select id="tipo">
<option value="receita">Receita</option>
<option value="fixa">Despesa Fixa</option>
<option value="variavel">Despesa Variável</option>
</select>
<button onclick="adicionar()">Adicionar</button>
</div>

<script>

let dados = JSON.parse(localStorage.getItem("dados")) || [];

function salvar(){
    localStorage.setItem("dados", JSON.stringify(dados));
}

function atualizar(){

    let receitas = 0;
    let fixas = 0;
    let variaveis = 0;

    dados.forEach(item => {
        if(item.tipo === "receita") receitas += item.valor;
        if(item.tipo === "fixa") fixas += item.valor;
        if(item.tipo === "variavel") variaveis += item.valor;
    });

    let resultado = receitas - fixas - variaveis;

    document.getElementById("receitas").innerText = "R$ " + receitas.toFixed(2);
    document.getElementById("fixas").innerText = "R$ " + fixas.toFixed(2);
    document.getElementById("variaveis").innerText = "R$ " + variaveis.toFixed(2);
    document.getElementById("resultado").innerText = "R$ " + resultado.toFixed(2);
}

function adicionar(){
    let valor = parseFloat(document.getElementById("valor").value);
    let tipo = document.getElementById("tipo").value;

    if(!valor) return;

    dados.push({valor, tipo});
    salvar();
    atualizar();
    document.getElementById("valor").value = "";
}

atualizar();

</script>

</body>
</html>
